<Window x:Class="Wpf_Budgetplanerare.Views.BudgetDashboard"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:views="clr-namespace:Wpf_Budgetplanerare.Views"
        mc:Ignorable="d"
        Title="BudgetDashboard"
        Height="450"
        Width="800"
        Background="{StaticResource PrimaryBrush}">

    <Grid>
        <!-- MAIN GRID -->
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="6*"/>
            <ColumnDefinition Width="19*"/>
        </Grid.ColumnDefinitions>

        <Grid.RowDefinitions>
            <RowDefinition Height="3.5*"/>
            <RowDefinition Height="3*"/>
            <RowDefinition Height="20*"/>
        </Grid.RowDefinitions>

        <!-- TOP BAR -->
        <Border Grid.Row="0"
                Grid.Column="0"
                Grid.ColumnSpan="2"
                Margin="20,10"
                Padding="0,8,0,0"
                Background="{StaticResource SecondaryBrush}"
                BorderBrush="{StaticResource PrimaryBrush}"
                BorderThickness="1"
                CornerRadius="10">

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>

                <!-- USER -->
                <StackPanel Grid.Column="0" HorizontalAlignment="Center">
                    <TextBlock Text="User" Opacity="0.7" FontSize="12"/>
                    <TextBlock Text="{Binding ActiveUserFullName}"
                               FontSize="18"
                               FontWeight="Bold"/>
                </StackPanel>

                <!-- TODAY -->
                <StackPanel Grid.Column="1" HorizontalAlignment="Center">
                    <TextBlock Text="Today" Opacity="0.7" FontSize="12"/>
                    <TextBlock Text="{Binding TodayWithWeek}"
                               FontSize="16"
                               FontWeight="SemiBold"/>
                </StackPanel>

                <!-- BALANCE (Income ever - Expense ever) -->
                <StackPanel Grid.Column="2" HorizontalAlignment="Center">
                    <TextBlock Text="Balance" Opacity="0.7" FontSize="12"/>
                    <TextBlock Text="{Binding Balance, StringFormat={}{0:N2} kr}"
                               FontSize="16"
                               FontWeight="SemiBold"/>
                </StackPanel>

                <!-- PERIOD TOTALS (changes with section: month/quarter/year) -->
                <StackPanel Grid.Column="3" HorizontalAlignment="Center">
                    <TextBlock Text="{Binding PeriodLabel}" Opacity="0.7" FontSize="12"/>

                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <TextBlock Text="In: " Opacity="0.7"/>
                        <TextBlock Text="{Binding PeriodIncome, StringFormat={}{0:N2} kr}"
                                   FontSize="16"
                                   FontWeight="SemiBold"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <TextBlock Text="Out: " Opacity="0.7"/>
                        <TextBlock Text="{Binding PeriodSpent, StringFormat={}{0:N2} kr}"
                                   FontSize="16"
                                   FontWeight="SemiBold"/>
                    </StackPanel>
                </StackPanel>
            </Grid>
        </Border>

        <!-- SECTION SWITCHER -->
        <Border Grid.Row="1"
                Grid.Column="0"
                Margin="20,10,10,5"
                Background="{StaticResource SecondaryBrush}"
                BorderBrush="{StaticResource PrimaryBrush}"
                BorderThickness="1"
                CornerRadius="8">

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="36"/>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="36"/>
                </Grid.ColumnDefinitions>

                <Button Grid.Column="0" Content="◀" Click="Prev_Click"/>
                <TextBlock x:Name="SectionTitle"
                           Grid.Column="1"
                           Text="Overview"
                           FontSize="14"
                           FontWeight="Bold"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"/>
                <Button Grid.Column="2" Content="▶" Click="Next_Click"/>
            </Grid>
        </Border>

        <!-- MIDDLE RIGHT (SUMMARY / SAVINGS) -->
        <Border Grid.Row="1"
                Grid.Column="1"
                Margin="10,10,20,5"
                Background="{StaticResource SecondaryBrush}"
                BorderBrush="{StaticResource PrimaryBrush}"
                BorderThickness="1"
                CornerRadius="8">
            <ContentControl x:Name="MiddleRightContent"/>
        </Border>

        <!-- LEFT MAIN CONTENT -->
        <Border Grid.Row="2"
                Grid.Column="0"
                Margin="20,10,10,8"
                Background="{StaticResource SecondaryBrush}"
                BorderBrush="{StaticResource PrimaryBrush}"
                BorderThickness="1"
                CornerRadius="8">
            <ContentControl x:Name="LeftContent"/>
        </Border>

        <!-- RIGHT SIDE (Transactions + Expense Entry) -->
        <Grid Grid.Row="2"
              Grid.Column="1"
              Margin="8,10,20,8">

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="11*"/>
                <ColumnDefinition Width="8*"/>
            </Grid.ColumnDefinitions>

            <!-- Transactions table -->
            <views:TransactionsTableView x:Name="TransactionsTable"
                                         Grid.Column="0"
                                         Margin="0,0,10,0"/>

            <!-- Expense entry container -->
            <Border Grid.Column="1"
                    Margin="10,0,0,0"
                    Background="{StaticResource SecondaryBrush}"
                    BorderBrush="{StaticResource PrimaryBrush}"
                    BorderThickness="1"
                    CornerRadius="8">

                <ContentControl x:Name="RightBottomContent"/>
            </Border>
        </Grid>
    </Grid>
</Window>
